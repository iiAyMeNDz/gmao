<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>GMAO Pro | ุงูุขูุงุช</title>
    <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
    <div class="app">
        <nav class="navbar">
            <div class="logo">๐ญ GMAO PRO</div>
            <div style="display: flex; gap: 16px;">
                <span id="userName" style="color: var(--gray);"></span>
                <button onclick="logout()" class="btn btn-outline" style="padding: 8px 16px;">ุชุณุฌูู ุฎุฑูุฌ</button>
            </div>
        </nav>

        <div style="display: grid; grid-template-columns: 260px 1fr; gap: 24px;">
            <div class="sidebar">
                <div class="sidebar-item">๐ ููุญุฉ ุงูุชุญูู</div>
                <div class="sidebar-item active">โ๏ธ ุงูุขูุงุช</div>
                <div class="sidebar-item">๐ง ุงูุจูุงุบุงุช</div>
                <div class="sidebar-item">๐ ุงูุตูุงูุฉ ุงูููุงุฆูุฉ</div>
                <div class="sidebar-item">๐ฆ ูุทุน ุงูุบูุงุฑ</div>
                <div class="sidebar-item">๐ฅ ุงูููููู</div>
                <div class="sidebar-item">๐ ุงูููุงูุน</div>
                <div class="sidebar-item">๐ค ุงูููุฑุฏูู</div>
                <div class="sidebar-item">๐ ุงูุชูุงุฑูุฑ</div>
                <div class="sidebar-item">โ๏ธ ุงูุฅุนุฏุงุฏุงุช</div>
            </div>

            <div>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                    <h1 style="color: white;">โ๏ธ ุฅุฏุงุฑุฉ ุงูุขูุงุช</h1>
                    <button class="btn btn-primary" onclick="openAddMachineModal()">+ ุฅุถุงูุฉ ุขูุฉ ุฌุฏูุฏุฉ</button>
                </div>

                <div class="card">
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>ุงุณู ุงูุขูุฉ</th>
                                    <th>ุงููููุน</th>
                                    <th>ุงูุญุงูุฉ</th>
                                    <th>ุขุฎุฑ ุตูุงูุฉ</th>
                                    <th>ุงูุตูุงูุฉ ุงููุงุฏูุฉ</th>
                                    <th>ุงูููุงุกุฉ</th>
                                    <th>ุงูุฅุฌุฑุงุกุงุช</th>
                                </tr>
                            </thead>
                            <tbody id="machinesTableBody">
                                <!-- ุงูุจูุงูุงุช ุชุฌู ูู JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../assets/js/auth.js"></script>
    <script>
        // ุจูุงูุงุช ุงูุขูุงุช
        let machines = [
            { id: 1, name: 'ุฎูุงุทุฉ ุฎุฑุณุงูุฉ', site: 'ุงูุฎูุงุทุงุช', status: 'ูุดุท', statusClass: 'status-active', lastMaintenance: '2025-02-01', nextMaintenance: '2025-03-01', efficiency: 92 },
            { id: 2, name: 'ูุฑู ุญุฑุงุฑู', site: 'ุงูุฅูุชุงุฌ', status: 'ุนุทู', statusClass: 'status-danger', lastMaintenance: '2025-01-15', nextMaintenance: '2025-02-15', efficiency: 23 },
            { id: 3, name: 'ุถุงุบุท ููุงุก', site: 'ุงูููุงุจุณ', status: 'ุตูุงูุฉ', statusClass: 'status-warning', lastMaintenance: '2025-02-05', nextMaintenance: '2025-02-20', efficiency: 45 },
            { id: 4, name: 'ุณูุฑ ูุงูู', site: 'ุงูุชุนุจุฆุฉ', status: 'ูุดุท', statusClass: 'status-active', lastMaintenance: '2025-02-10', nextMaintenance: '2025-03-10', efficiency: 78 },
            { id: 5, name: 'ูููุฏ ููุฑุจุงุฆู', site: 'ุงูุทูุงุฑุฆ', status: 'ูุดุท', statusClass: 'status-active', lastMaintenance: '2025-01-28', nextMaintenance: '2025-04-28', efficiency: 88 }
        ];

        function displayMachines() {
            let html = '';
            machines.forEach(m => {
                html += `<tr>
                    <td>${m.id}</td>
                    <td><strong>${m.name}</strong></td>
                    <td>${m.site}</td>
                    <td><span class="status-badge ${m.statusClass}">${m.status}</span></td>
                    <td>${m.lastMaintenance}</td>
                    <td>${m.nextMaintenance}</td>
                    <td>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <span>${m.efficiency}%</span>
                            <div style="width: 60px; height: 6px; background: rgba(139,92,246,0.2); border-radius: 3px;">
                                <div style="width: ${m.efficiency}%; height: 6px; background: ${m.efficiency > 70 ? '#10b981' : m.efficiency > 40 ? '#f59e0b' : '#ef4444'}; border-radius: 3px;"></div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <button class="btn btn-outline" style="padding: 4px 12px;" onclick="editMachine(${m.id})">ุชุนุฏูู</button>
                        <button class="btn btn-outline" style="padding: 4px 12px; border-color: #ef4444;" onclick="deleteMachine(${m.id})">ุญุฐู</button>
                    </td>
                </tr>`;
            });
            document.getElementById('machinesTableBody').innerHTML = html;
        }

        function deleteMachine(id) {
            if(confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ุงูุขูุฉุ')) {
                machines = machines.filter(m => m.id !== id);
                displayMachines();
            }
        }

        displayMachines();
    </script>
</body>
</html>
